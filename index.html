<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ular Tangga: Cara Kerja Komputer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .board-cell {
            aspect-ratio: 1;
            border: 1px solid #374151;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            font-weight: bold;
            font-size: 0.5rem;
            min-height: 25px;
        }
        
        /* Mobile responsive board cells */
        @media (max-width: 768px) {
            .board-cell {
                font-size: 0.4rem;
                border: 1px solid #6b7280;
                min-height: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .board-cell {
                font-size: 0.35rem;
                min-height: 18px;
            }
        }
        
        .player {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            position: absolute;
            top: 1px;
            left: 1px;
            z-index: 10;
            border: 2px solid white;
        }
        
        @media (max-width: 480px) {
            .player {
                width: 12px;
                height: 12px;
                border: 1px solid white;
            }
        }
        
        .ladder {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
        }
        .snake {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .snake-animated {
            position: absolute;
            font-size: 2em;
            animation: snakeMove 3s ease-in-out infinite;
            z-index: 5;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .ladder-animated {
            position: absolute;
            font-size: 2em;
            animation: ladderShine 2.5s ease-in-out infinite;
            z-index: 5;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        @keyframes ladderShine {
            0%, 100% { 
                transform: translateY(-8px) scale(1);
                opacity: 0.9;
                filter: brightness(1);
            }
            25% { 
                transform: translateY(-2px) scale(1.1);
                opacity: 1;
                filter: brightness(1.3);
            }
            50% { 
                transform: translateY(-5px) scale(1.05);
                opacity: 1;
                filter: brightness(1.5);
            }
            75% { 
                transform: translateY(-10px) scale(1.08);
                opacity: 0.95;
                filter: brightness(1.2);
            }
        }
        
        @keyframes snakeMove {
            0%, 100% { 
                transform: translateX(-10px) translateY(-5px) rotate(-10deg);
                opacity: 0.8;
            }
            25% { 
                transform: translateX(5px) translateY(2px) rotate(5deg);
                opacity: 1;
            }
            50% { 
                transform: translateX(10px) translateY(-2px) rotate(10deg);
                opacity: 0.9;
            }
            75% { 
                transform: translateX(-5px) translateY(5px) rotate(-5deg);
                opacity: 1;
            }
        }
        
        .snake-body {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #dc2626;
            border-radius: 50%;
            animation: snakeBody 2s ease-in-out infinite;
            box-shadow: 0 0 4px rgba(220, 38, 38, 0.5);
        }
        
        .ladder-rung {
            position: absolute;
            width: 12px;
            height: 3px;
            background: linear-gradient(90deg, #8b4513, #a0522d);
            border-radius: 2px;
            animation: ladderRung 2.5s ease-in-out infinite;
            box-shadow: 0 1px 3px rgba(139, 69, 19, 0.4);
        }
        
        @keyframes ladderRung {
            0%, 100% { 
                transform: scale(0.9);
                opacity: 0.7;
                box-shadow: 0 1px 3px rgba(139, 69, 19, 0.4);
            }
            50% { 
                transform: scale(1.2);
                opacity: 1;
                box-shadow: 0 2px 6px rgba(139, 69, 19, 0.6);
            }
        }
        
        @keyframes snakeBody {
            0%, 100% { 
                transform: scale(0.8);
                opacity: 0.6;
            }
            50% { 
                transform: scale(1.2);
                opacity: 1;
            }
        }
        
        .dice {
            width: 80px;
            height: 80px;
            border: 3px solid #374151;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
            user-select: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .dice::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
            opacity: 0;
        }
        
        .dice:hover::before {
            opacity: 1;
            animation: shine 0.6s ease-in-out;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        @media (max-width: 768px) {
            .dice {
                width: 70px;
                height: 70px;
                font-size: 28px;
            }
        }
        
        .dice:hover, .dice:active {
            transform: scale(1.05) rotate(5deg);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
        }
        
        .dice.rolling {
            animation: diceRoll 0.1s infinite;
            background: linear-gradient(145deg, #fef3c7, #fbbf24);
            border-color: #f59e0b;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
        }
        
        @keyframes diceRoll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .dice.final-roll {
            animation: finalBounce 0.6s ease-out;
            background: linear-gradient(145deg, #dcfce7, #86efac);
            border-color: #22c55e;
            box-shadow: 0 0 25px rgba(34, 197, 94, 0.4);
        }
        
        @keyframes finalBounce {
            0% { transform: scale(1.3) rotate(360deg); }
            50% { transform: scale(0.9) rotate(180deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        
        .question-modal {
            backdrop-filter: blur(4px);
        }
        
        .notification {
            position: fixed;
            top: 10px;
            right: 10px;
            left: 10px;
            padding: 12px 16px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 14px;
            z-index: 100;
            transform: translateY(-100px);
            transition: all 0.5s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border: 2px solid;
            text-align: center;
        }
        
        @media (min-width: 768px) {
            .notification {
                top: 20px;
                right: 20px;
                left: auto;
                font-size: 16px;
                padding: 16px 24px;
                transform: translateX(400px);
            }
        }
        
        .notification.show {
            transform: translateY(0);
        }
        
        @media (min-width: 768px) {
            .notification.show {
                transform: translateX(0);
            }
        }
        
        .notification.correct {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border-color: #047857;
        }
        .notification.wrong {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border-color: #b91c1c;
        }
        
        .timer-warning {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Mobile-friendly buttons */
        .mobile-btn {
            min-height: 44px;
            touch-action: manipulation;
            user-select: none;
        }
        
        /* Better modal sizing for mobile */
        @media (max-width: 640px) {
            .modal-content {
                margin: 1rem;
                max-height: 90vh;
                overflow-y: auto;
            }
        }
        
        /* Prevent zoom on input focus (iOS) */
        input, select, textarea {
            font-size: 16px;
        }
        
        /* Better touch targets */
        .touch-target {
            min-height: 44px;
            min-width: 44px;
        }
        
        .title-snake {
            display: inline-block;
            animation: titleSnakeSlither 4s ease-in-out infinite;
            font-size: 1.2em;
        }
        
        @keyframes titleSnakeSlither {
            0% { 
                transform: translateX(-25px) translateY(2px) rotate(-20deg) scaleX(0.8) scaleY(1.1);
            }
            10% { 
                transform: translateX(-18px) translateY(0px) rotate(-12deg) scaleX(0.9) scaleY(1.05);
            }
            20% { 
                transform: translateX(-10px) translateY(-1px) rotate(-5deg) scaleX(1.0) scaleY(1.0);
            }
            30% { 
                transform: translateX(-2px) translateY(-2px) rotate(2deg) scaleX(1.1) scaleY(0.95);
            }
            40% { 
                transform: translateX(6px) translateY(-1px) rotate(8deg) scaleX(1.2) scaleY(0.9);
            }
            50% { 
                transform: translateX(15px) translateY(0px) rotate(15deg) scaleX(1.1) scaleY(0.95);
            }
            60% { 
                transform: translateX(22px) translateY(1px) rotate(20deg) scaleX(1.0) scaleY(1.0);
            }
            70% { 
                transform: translateX(18px) translateY(2px) rotate(12deg) scaleX(0.9) scaleY(1.05);
            }
            80% { 
                transform: translateX(10px) translateY(2px) rotate(5deg) scaleX(0.8) scaleY(1.1);
            }
            90% { 
                transform: translateX(0px) translateY(2px) rotate(-5deg) scaleX(0.85) scaleY(1.08);
            }
            100% { 
                transform: translateX(-25px) translateY(2px) rotate(-20deg) scaleX(0.8) scaleY(1.1);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-100 to-purple-100 min-h-screen p-2 sm:p-4">

    <!-- Game Screen -->
    <div id="gameScreen" class="max-w-6xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-4 sm:mb-6">
            <h1 class="text-2xl sm:text-4xl font-bold text-gray-800 mb-2"><span class="title-snake">🐍</span> Ular Tangga: Cara Kerja Komputer 🪜</h1>
            <p class="text-sm sm:text-lg text-gray-600">Game Edukatif untuk Siswa SMK Kelas X</p>
            <div class="mt-2">
                <span class="text-xs sm:text-sm text-gray-500">Pemain: </span>
                <span id="displayPlayer1Name" class="text-blue-600 font-bold text-sm sm:text-base"></span>
                <span class="text-gray-400"> vs </span>
                <span id="displayPlayer2Name" class="text-red-600 font-bold text-sm sm:text-base"></span>
            </div>
        </div>

        <!-- Mobile Layout -->
        <div class="block lg:hidden space-y-3">
            <!-- Mobile Top Controls -->
            <div class="grid grid-cols-2 gap-3">
                <!-- Dice -->
                <div class="bg-white rounded-xl shadow-lg p-3 text-center">
                    <h3 class="text-lg font-bold mb-2">🎲 Dadu</h3>
                    <div id="dice" class="dice mx-auto mb-2">?</div>
                    <button id="rollDice" class="mobile-btn bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg font-bold transition-colors w-full text-sm">
                        Lempar Dadu
                    </button>
                </div>

                <!-- Timer -->
                <div class="bg-white rounded-xl shadow-lg p-3 text-center">
                    <h3 class="text-lg font-bold mb-2">⏰ Waktu</h3>
                    <div id="timer" class="text-2xl font-bold text-green-600 mb-2">15:00</div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div id="timerBar" class="bg-green-500 h-2 rounded-full transition-all duration-1000" style="width: 100%"></div>
                    </div>
                </div>
            </div>

            <!-- Mobile Player Info -->
            <div class="bg-white rounded-xl shadow-lg p-3">
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <div class="flex items-center justify-between p-2 rounded bg-blue-50">
                        <span class="flex items-center gap-1">
                            <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
                            <span id="gamePlayer1Name" class="text-sm font-medium">Pemain 1</span>
                        </span>
                        <span id="player1Pos" class="font-bold text-sm">1</span>
                    </div>
                    <div class="flex items-center justify-between p-2 rounded bg-red-50">
                        <span class="flex items-center gap-1">
                            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                            <span id="gamePlayer2Name" class="text-sm font-medium">Pemain 2</span>
                        </span>
                        <span id="player2Pos" class="font-bold text-sm">1</span>
                    </div>
                </div>
                <div class="text-center">
                    <p class="text-xs text-gray-600">Giliran: <span id="currentPlayer" class="font-bold text-blue-600">Pemain 1</span></p>
                </div>
            </div>

            <!-- Game Board -->
            <div class="bg-white rounded-xl shadow-lg p-2">
                <div id="gameBoard" class="grid grid-cols-10 gap-0.5">
                    <!-- Board akan diisi dengan JavaScript -->
                </div>
            </div>

            <!-- Mobile Bottom Controls -->
            <div class="grid grid-cols-2 gap-3">
                <!-- Score -->
                <div class="bg-white rounded-xl shadow-lg p-3">
                    <h3 class="text-lg font-bold mb-2 text-center">📊 Skor</h3>
                    <div class="space-y-1">
                        <div class="flex justify-between text-sm">
                            <span id="scorePlayer1Name">Pemain 1:</span>
                            <span id="score1" class="font-bold">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span id="scorePlayer2Name">Pemain 2:</span>
                            <span id="score2" class="font-bold">0</span>
                        </div>
                    </div>
                </div>

                <!-- Reset Button -->
                <div class="bg-white rounded-xl shadow-lg p-3 flex items-center">
                    <button id="resetGame" class="mobile-btn w-full bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg font-bold transition-colors">
                        🔄 Reset Game
                    </button>
                </div>
            </div>
        </div>

        <!-- Desktop Layout -->
        <div class="hidden lg:grid lg:grid-cols-5 gap-6">
            <!-- Left Controls -->
            <div class="lg:col-span-1 space-y-4">
                <!-- Dice -->
                <div class="bg-white rounded-xl shadow-lg p-4 text-center">
                    <h3 class="text-xl font-bold mb-3">Dadu</h3>
                    <div id="diceDesktop" class="dice mx-auto mb-3">?</div>
                    <button id="rollDiceDesktop" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold transition-colors">
                        Lempar Dadu
                    </button>
                </div>

                <!-- Timer -->
                <div class="bg-white rounded-xl shadow-lg p-4 text-center">
                    <h3 class="text-xl font-bold mb-3">⏰ Waktu Tersisa</h3>
                    <div id="timerDesktop" class="text-3xl font-bold text-green-600 mb-2">15:00</div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div id="timerBarDesktop" class="bg-green-500 h-2 rounded-full transition-all duration-1000" style="width: 100%"></div>
                    </div>
                </div>
            </div>

            <!-- Game Board -->
            <div class="lg:col-span-3">
                <div class="bg-white rounded-xl shadow-lg p-4">
                    <div id="gameBoardDesktop" class="grid grid-cols-10 gap-1 mb-4">
                        <!-- Board akan diisi dengan JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Right Controls -->
            <div class="lg:col-span-1 space-y-4">
                <!-- Player Info -->
                <div class="bg-white rounded-xl shadow-lg p-4">
                    <h3 class="text-xl font-bold mb-3 text-center">Pemain</h3>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between p-2 rounded bg-blue-50">
                            <span class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-blue-500 rounded-full"></div>
                                <span id="gamePlayer1NameDesktop">Pemain 1</span>
                            </span>
                            <span id="player1PosDesktop" class="font-bold">1</span>
                        </div>
                        <div class="flex items-center justify-between p-2 rounded bg-red-50">
                            <span class="flex items-center gap-2">
                                <div class="w-4 h-4 bg-red-500 rounded-full"></div>
                                <span id="gamePlayer2NameDesktop">Pemain 2</span>
                            </span>
                            <span id="player2PosDesktop" class="font-bold">1</span>
                        </div>
                    </div>
                    <div class="mt-3 text-center">
                        <p class="text-sm text-gray-600">Giliran:</p>
                        <p id="currentPlayerDesktop" class="font-bold text-blue-600">Pemain 1</p>
                    </div>
                </div>

                <!-- Score -->
                <div class="bg-white rounded-xl shadow-lg p-4">
                    <h3 class="text-xl font-bold mb-3 text-center">Skor</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span id="scorePlayer1NameDesktop">Pemain 1:</span>
                            <span id="score1Desktop" class="font-bold">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span id="scorePlayer2NameDesktop">Pemain 2:</span>
                            <span id="score2Desktop" class="font-bold">0</span>
                        </div>
                    </div>
                </div>

                <!-- Reset Button -->
                <button id="resetGameDesktop" class="w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-bold transition-colors">
                    Reset Game
                </button>
            </div>
        </div>
    </div>

    <!-- Question Modal -->
    <div id="questionModal" class="fixed inset-0 question-modal bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl p-4 sm:p-6 w-full max-w-md modal-content">
            <h3 class="text-lg sm:text-xl font-bold mb-3 sm:mb-4 text-center">💻 Pertanyaan Komputer</h3>
            <p id="questionText" class="mb-3 sm:mb-4 text-gray-700 text-sm sm:text-base leading-relaxed"></p>
            <div id="answerOptions" class="space-y-2 mb-3 sm:mb-4">
                <!-- Options akan diisi dengan JavaScript -->
            </div>
            <div class="text-center">
                <p id="questionResult" class="font-bold mb-2 text-sm sm:text-base"></p>
                <button id="continueGame" class="mobile-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold w-full sm:w-auto">
                    Lanjutkan
                </button>
            </div>
        </div>
    </div>

    <!-- Win Modal -->
    <div id="winModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl p-4 sm:p-6 w-full max-w-md text-center modal-content">
            <h3 class="text-xl sm:text-2xl font-bold mb-4">🎉 Selamat! 🎉</h3>
            <p id="winnerText" class="text-base sm:text-lg mb-4"></p>
            <p class="text-gray-600 mb-4 text-sm sm:text-base">Anda telah menyelesaikan perjalanan belajar cara kerja komputer!</p>
            <button id="playAgain" class="mobile-btn bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold w-full sm:w-auto">
                Main Lagi
            </button>
        </div>
    </div>

    <!-- Time Up Modal -->
    <div id="timeUpModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl shadow-2xl p-4 sm:p-6 w-full max-w-md text-center modal-content">
            <h3 class="text-xl sm:text-2xl font-bold mb-4">⏰ Waktu Habis!</h3>
            <p id="timeUpText" class="text-base sm:text-lg mb-4"></p>
            <p class="text-gray-600 mb-4 text-sm sm:text-base">Game berakhir setelah 15 menit bermain.</p>
            <button id="playAgainTimeUp" class="mobile-btn bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold w-full sm:w-auto">
                Main Lagi
            </button>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <div id="notificationContent"></div>
    </div>

    <script>
        // Game state
        let currentPlayer = 1;
        let player1Position = 1;
        let player2Position = 1;
        let player1Score = 0;
        let player2Score = 0;
        let gameEnded = false;
        let player1Name = '';
        let player2Name = '';
        let gameTimer = null;
        let timeLeft = 900; // 15 minutes in seconds

        // Snakes and Ladders positions
        const ladders = {
            4: 14,   // CPU ke Motherboard
            9: 31,   // RAM ke Storage
            21: 42,  // Input ke Processing
            28: 84,  // Software ke Operating System
            51: 67,  // Network ke Internet
            71: 91,  // Security ke Backup
            80: 99   // Programming ke Final
        };

        const snakes = {
            16: 6,   // Virus turun ke Basic
            47: 26,  // Error turun ke Debug
            49: 11,  // Crash turun ke Restart
            56: 53,  // Bug turun ke Fix
            62: 19,  // Malware turun ke Antivirus
            87: 24,  // System Failure turun ke Recovery
            93: 73,  // Data Loss turun ke Backup
            95: 75   // Hardware Failure turun ke Repair
        };

        // Questions from Word document (19 soal)
        const questions = [
            {
                question: "Komponen utama yang berfungsi sebagai 'otak' komputer dan bertugas mengeksekusi semua instruksi disebut...",
                options: ["Memori (RAM)", "Perangkat Output", "Unit Pemrosesan Pusat (CPU)", "Perangkat Input"],
                correct: 2
            },
            {
                question: "Fungsi utama dari memori atau RAM dalam Arsitektur Von Neumann adalah...",
                options: ["Menyimpan data secara permanen", "Mengolah data yang masuk", "Sebagai tempat penyimpanan sementara untuk data dan program yang aktif", "Menampilkan informasi ke pengguna"],
                correct: 2
            },
            {
                question: "Perangkat yang digunakan untuk memasukkan data atau perintah ke dalam komputer disebut...",
                options: ["Perangkat Output", "Perangkat Input", "CPU", "RAM"],
                correct: 1
            },
            {
                question: "Di bawah ini, manakah yang merupakan contoh dari perangkat output?",
                options: ["Mouse", "Webcam", "Scanner", "Printer"],
                correct: 3
            },
            {
                question: "Siklus kerja komputer yang dimulai dari penerimaan data, pengolahan, hingga menampilkan hasil dikenal dengan sebutan...",
                options: ["Siklus IPO", "Siklus CPU", "Siklus RAM", "Siklus OS"],
                correct: 0
            },
            {
                question: "Dalam siklus IPO, tahapan 'Input' adalah...",
                options: ["Data mentah atau perintah dimasukkan ke sistem.", "Hasil olahan data ditampilkan sebagai informasi.", "CPU mengambil data dan menjalankan instruksi.", "Data disimpan secara permanen di hard drive."],
                correct: 0
            },
            {
                question: "Tindakan 'mengetik teks di keyboard' termasuk dalam tahapan siklus IPO yang mana?",
                options: ["Proses", "Output", "Input", "Penyimpanan"],
                correct: 2
            },
            {
                question: "Apa peran utama dari Sistem Operasi (OS)?",
                options: ["Untuk mengolah data saja", "Untuk menampilkan informasi saja", "Sebagai manajer yang menghubungkan hardware dan software", "Sebagai tempat penyimpanan data sementara"],
                correct: 2
            },
            {
                question: "Manakah dari fungsi berikut yang merupakan salah satu tugas utama Sistem Operasi?",
                options: ["Menggambar grafik 3D", "Mengetik teks dokumen", "Menghitung data numerik", "Manajemen Sumber Daya"],
                correct: 3
            },
            {
                question: "Apa yang akan terjadi jika komputer tidak memiliki Sistem Operasi?",
                options: ["Aplikasi akan berjalan lebih cepat", "Tidak ada yang dapat mengelola sumber daya, sehingga komputer tidak bisa berfungsi", "Perangkat input dan output akan terhubung langsung ke CPU", "Memori (RAM) akan menjadi penyimpanan permanen"],
                correct: 1
            },
            {
                question: "Mengapa Arsitektur Von Neumann dianggap sebagai fondasi bagi komputer modern?",
                options: ["Karena model ini hanya menggunakan satu jenis memori.", "Karena model ini memisahkan CPU, memori, dan I/O secara jelas.", "Karena model ini hanya digunakan pada komputer lama.", "Karena model ini tidak memerlukan Sistem Operasi."],
                correct: 1
            },
            {
                question: "Ketika kamu menyentuh ikon aplikasi di layar smartphone, tahapan apa yang terjadi dalam siklus IPO?",
                options: ["Output", "Proses", "Input", "Penyimpanan"],
                correct: 2
            },
            {
                question: "Apa yang terjadi pada tahapan 'Process' dalam siklus IPO saat Kamu mengetik teks?",
                options: ["Teks langsung muncul di layar.", "CPU mengambil data ketikan dan mengubahnya menjadi informasi yang dapat ditampilkan.", "Data ketikan disimpan di hard drive.", "Keyboard menerima data dan mengirimkannya ke monitor."],
                correct: 1
            },
            {
                question: "Fungsi OS yang bertanggung jawab untuk memastikan setiap program mendapatkan alokasi waktu CPU yang adil disebut...",
                options: ["Manajemen Berkas", "Manajemen Memori", "Manajemen Antarmuka Pengguna", "Manajemen Proses"],
                correct: 3
            },
            {
                question: "Ketika sebuah file disimpan di komputer, fungsi OS yang mana yang berperan?",
                options: ["Manajemen Proses", "Manajemen Berkas", "Manajemen Antarmuka Pengguna", "Manajemen Sumber Daya"],
                correct: 1
            },
            {
                question: "Sistem Operasi apa yang memiliki pangsa pasar terbesar untuk desktop?",
                options: ["Linux", "macOS", "Lainnya", "Windows"],
                correct: 3
            },
            {
                question: "Dalam contoh kasus mesin ATM, tindakan 'memverifikasi data ke server bank' termasuk dalam tahapan...",
                options: ["Input", "Output", "Proses", "Penyimpanan"],
                correct: 2
            },
            {
                question: "Komponen yang bertanggung jawab untuk menyimpan instruksi dan data yang sedang digunakan oleh CPU adalah...",
                options: ["Perangkat Output", "Perangkat Input", "Unit Pemrosesan Pusat (CPU)", "Memori (RAM)"],
                correct: 3
            },
            {
                question: "Contoh dari penerapan siklus IPO pada smartphone adalah:",
                options: ["Input: memuat aplikasi; Proses: membuka aplikasi; Output: melihat ikon.", "Input: menyentuh layar; Proses: OS memproses sentuhan; Output: aplikasi terbuka.", "Input: melihat ikon; Proses: OS memproses; Output: menyentuh layar.", "Input: OS; Proses: aplikasi; Output: layar."],
                correct: 1
            }
        ];

        // Student names array
        const studentNames = [
            "Amanda Nur Aini", "Angelina Kharisma Putri", "Bagus Setiawan", "Cici Ayu",
            "Dita Safitri", "Dwi Cahya Ratnasari", "Eli Olivia Fitriyani", "Elvina Destiya Putri",
            "Evina Inasya", "Faizah Arsyi", "Fajar Mutawa", "Fani Tri Hikmawan",
            "Fika Atha Apriliana", "Iqlimah Azzahraa", "Kamilia Iftina Silvia", "Kiranti Widiya Pratiwi",
            "Muhamad Ibnu Afifan", "Muhammad Guntur Afrilleo", "Muhammad Hilbram Rovi", "Muhammad Nabiel Al Habsyi",
            "Muhammad Ulin Nuha", "Nikmatul Maula", "Nur Adam Harfiyanto", "Qiyamul Lail Nafilah",
            "Safira Wijayanti", "Sinar Marsya Putri Wungkana", "Sinta Anggunita", "Siti Nur Janah"
        ];

        // Timer functions
        function startTimer() {
            gameTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    endGameByTime();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timerElements = [document.getElementById('timer'), document.getElementById('timerDesktop')];
            const timerBars = [document.getElementById('timerBar'), document.getElementById('timerBarDesktop')];
            
            const timeText = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            timerElements.forEach(element => {
                if (element) element.textContent = timeText;
            });
            
            // Update progress bar
            const percentage = (timeLeft / 900) * 100;
            timerBars.forEach(bar => {
                if (bar) bar.style.width = `${percentage}%`;
            });
            
            // Change color based on time left
            timerElements.forEach(element => {
                if (!element) return;
                if (timeLeft <= 60) {
                    element.className = 'text-2xl sm:text-3xl font-bold text-red-600 mb-2 timer-warning';
                } else if (timeLeft <= 300) {
                    element.className = 'text-2xl sm:text-3xl font-bold text-orange-600 mb-2';
                } else {
                    element.className = 'text-2xl sm:text-3xl font-bold text-green-600 mb-2';
                }
            });
            
            timerBars.forEach(bar => {
                if (!bar) return;
                if (timeLeft <= 60) {
                    bar.className = 'bg-red-600 h-2 rounded-full transition-all duration-1000';
                } else if (timeLeft <= 300) {
                    bar.className = 'bg-orange-500 h-2 rounded-full transition-all duration-1000';
                } else {
                    bar.className = 'bg-green-500 h-2 rounded-full transition-all duration-1000';
                }
            });
        }

        function stopTimer() {
            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }
        }

        function endGameByTime() {
            gameEnded = true;
            stopTimer();
            
            // Determine winner based on position and score
            let winner, winnerName, winnerScore;
            
            if (player1Position > player2Position) {
                winner = 1;
                winnerName = player1Name;
                winnerScore = player1Score;
            } else if (player2Position > player1Position) {
                winner = 2;
                winnerName = player2Name;
                winnerScore = player2Score;
            } else {
                // Same position, check score
                if (player1Score > player2Score) {
                    winner = 1;
                    winnerName = player1Name;
                    winnerScore = player1Score;
                } else if (player2Score > player1Score) {
                    winner = 2;
                    winnerName = player2Name;
                    winnerScore = player2Score;
                } else {
                    // Tie game
                    showTimeUpModal("Seri! Kedua pemain memiliki posisi dan skor yang sama.");
                    return;
                }
            }
            
            showTimeUpModal(`${winnerName} menang dengan posisi ${winner === 1 ? player1Position : player2Position} dan skor ${winnerScore}!`);
        }

        function showTimeUpModal(message) {
            const modal = document.getElementById('timeUpModal');
            const timeUpText = document.getElementById('timeUpText');
            
            timeUpText.textContent = message;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Start game function
        function startGame() {
            // Pilih 2 nama secara acak dari daftar siswa
            const shuffledNames = [...studentNames].sort(() => Math.random() - 0.5);
            player1Name = shuffledNames[0];
            player2Name = shuffledNames[1];
            
            // Update all display names
            const player1Elements = [
                'displayPlayer1Name', 'gamePlayer1Name', 'gamePlayer1NameDesktop', 
                'scorePlayer1Name', 'scorePlayer1NameDesktop'
            ];
            const player2Elements = [
                'displayPlayer2Name', 'gamePlayer2Name', 'gamePlayer2NameDesktop',
                'scorePlayer2Name', 'scorePlayer2NameDesktop'
            ];
            
            player1Elements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = id.includes('score') ? player1Name + ':' : player1Name;
                }
            });
            
            player2Elements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = id.includes('score') ? player2Name + ':' : player2Name;
                }
            });
            
            // Initialize game
            initializeBoard();
            startTimer();
        }

        // Initialize game board
        function initializeBoard() {
            const boards = [document.getElementById('gameBoard'), document.getElementById('gameBoardDesktop')];
            
            boards.forEach(board => {
                if (!board) return;
                board.innerHTML = '';
                
                // Create cells from 100 to 1 (top to bottom, left to right)
                const cells = [];
                for (let row = 9; row >= 0; row--) {
                    for (let col = 0; col < 10; col++) {
                        let cellNumber;
                        if (row % 2 === 1) {
                            cellNumber = row * 10 + col + 1;
                        } else {
                            cellNumber = row * 10 + (9 - col) + 1;
                        }
                        cells.push(cellNumber);
                    }
                }
                
                // Create the board with the calculated order
                cells.forEach(i => {
                    const cell = document.createElement('div');
                    cell.className = 'board-cell bg-gray-50';
                    cell.id = `cell-${i}${board.id === 'gameBoardDesktop' ? '-desktop' : ''}`;
                    
                    // Add special styling for snakes and ladders
                    if (ladders[i]) {
                        cell.className += ' ladder';
                        cell.innerHTML = `${i}<br><span class="ladder-animated">🪜</span>`;
                        
                        // Add ladder rungs for more realistic appearance
                        for (let j = 0; j < 4; j++) {
                            const rung = document.createElement('div');
                            rung.className = 'ladder-rung';
                            rung.style.left = `${10 + j * 8}px`;
                            rung.style.top = `${8 + j * 4}px`;
                            rung.style.animationDelay = `${j * 0.3}s`;
                            cell.appendChild(rung);
                        }
                    } else if (snakes[i]) {
                        cell.className += ' snake';
                        cell.innerHTML = `${i}<br><span class="snake-animated">🐍</span>`;
                        
                        // Add snake body dots for more realistic movement
                        for (let j = 0; j < 5; j++) {
                            const dot = document.createElement('div');
                            dot.className = 'snake-body';
                            dot.style.left = `${8 + j * 6}px`;
                            dot.style.top = `${6 + j * 2}px`;
                            dot.style.animationDelay = `${j * 0.2}s`;
                            cell.appendChild(dot);
                        }
                    } else {
                        cell.innerHTML = i;
                    }
                    
                    board.appendChild(cell);
                });
            });
            
            updatePlayerPositions();
        }

        // Update player positions on board
        function updatePlayerPositions() {
            // Clear all players
            document.querySelectorAll('.player').forEach(p => p.remove());
            
            // Update both mobile and desktop boards
            const suffixes = ['', '-desktop'];
            
            suffixes.forEach(suffix => {
                const cell1 = document.getElementById(`cell-${player1Position}${suffix}`);
                const cell2 = document.getElementById(`cell-${player2Position}${suffix}`);
                
                if (cell1) {
                    const player1 = document.createElement('div');
                    player1.className = 'player bg-blue-500';
                    cell1.appendChild(player1);
                }
                
                if (cell2) {
                    const player2 = document.createElement('div');
                    player2.className = 'player bg-red-500';
                    if (player1Position === player2Position) {
                        player2.style.left = '24px';
                    }
                    cell2.appendChild(player2);
                }
            });
            
            // Update position displays
            const posElements = [
                ['player1Pos', 'player1PosDesktop'],
                ['player2Pos', 'player2PosDesktop']
            ];
            
            posElements[0].forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = player1Position;
            });
            
            posElements[1].forEach(id => {
                const element = document.getElementById(id);
                if (element) element.textContent = player2Position;
            });
        }

        // Roll dice with amazing animation
        function rollDice() {
            if (gameEnded) return;
            
            const diceElements = [document.getElementById('dice'), document.getElementById('diceDesktop')];
            const rollButtons = [document.getElementById('rollDice'), document.getElementById('rollDiceDesktop')];
            
            rollButtons.forEach(button => {
                if (button) button.disabled = true;
            });
            
            // Add rolling animation class
            diceElements.forEach(dice => {
                if (dice) {
                    dice.classList.add('rolling');
                    dice.textContent = '🎲';
                }
            });
            
            // Animate dice roll with varying speed
            let rollCount = 0;
            let rollSpeed = 80;
            const rollInterval = setInterval(() => {
                const randomNum = Math.floor(Math.random() * 6) + 1;
                const diceSymbols = ['⚀', '⚁', '⚂', '⚃', '⚄', '⚅'];
                
                diceElements.forEach(dice => {
                    if (dice) {
                        dice.textContent = diceSymbols[randomNum - 1];
                    }
                });
                rollCount++;
                
                // Slow down the rolling as it progresses
                if (rollCount > 5) {
                    rollSpeed += 20;
                    clearInterval(rollInterval);
                    
                    const slowInterval = setInterval(() => {
                        const randomNum = Math.floor(Math.random() * 6) + 1;
                        diceElements.forEach(dice => {
                            if (dice) {
                                dice.textContent = diceSymbols[randomNum - 1];
                            }
                        });
                        rollCount++;
                        
                        if (rollCount > 12) {
                            clearInterval(slowInterval);
                            
                            // Final roll with dramatic effect
                            const finalRoll = Math.floor(Math.random() * 6) + 1;
                            diceElements.forEach(dice => {
                                if (dice) {
                                    dice.classList.remove('rolling');
                                    dice.classList.add('final-roll');
                                    dice.textContent = diceSymbols[finalRoll - 1];
                                    
                                    // Remove final-roll class after animation
                                    setTimeout(() => {
                                        dice.classList.remove('final-roll');
                                    }, 600);
                                }
                            });
                            
                            // Show number after a brief delay
                            setTimeout(() => {
                                diceElements.forEach(dice => {
                                    if (dice) dice.textContent = finalRoll;
                                });
                                movePlayer(finalRoll);
                            }, 300);
                        }
                    }, rollSpeed);
                }
            }, rollSpeed);
        }

        // Move player
        function movePlayer(steps) {
            let newPosition;
            
            if (currentPlayer === 1) {
                newPosition = Math.min(player1Position + steps, 100);
                player1Position = newPosition;
            } else {
                newPosition = Math.min(player2Position + steps, 100);
                player2Position = newPosition;
            }
            
            updatePlayerPositions();
            updateScores();
            
            // Check for win
            if (newPosition === 100) {
                setTimeout(() => {
                    showWinModal();
                }, 500);
                return;
            }
            
            // Check for snakes or ladders
            setTimeout(() => {
                checkSpecialSquares(newPosition);
            }, 500);
        }

        // Check for snakes or ladders
        function checkSpecialSquares(position) {
            if (ladders[position]) {
                // Ladder - show question
                showQuestion(() => {
                    // Correct answer - climb ladder and get 10 points
                    if (currentPlayer === 1) {
                        player1Position = ladders[position];
                        player1Score += 10;
                    } else {
                        player2Position = ladders[position];
                        player2Score += 10;
                    }
                    updatePlayerPositions();
                    updateScores();
                    
                    if (player1Position === 100 || player2Position === 100) {
                        setTimeout(() => showWinModal(), 500);
                    } else {
                        switchPlayer();
                    }
                }, () => {
                    // Wrong answer - stay in place, no points
                    switchPlayer();
                });
            } else if (snakes[position]) {
                // Snake - go down
                if (currentPlayer === 1) {
                    player1Position = snakes[position];
                } else {
                    player2Position = snakes[position];
                }
                updatePlayerPositions();
                setTimeout(() => switchPlayer(), 1000);
            } else {
                switchPlayer();
            }
        }

        // Show notification
        function showNotification(message, isCorrect) {
            const notification = document.getElementById('notification');
            const content = document.getElementById('notificationContent');
            
            content.innerHTML = message;
            
            // Remove existing classes
            notification.classList.remove('correct', 'wrong', 'show');
            
            // Add appropriate class
            if (isCorrect) {
                notification.classList.add('correct');
            } else {
                notification.classList.add('wrong');
            }
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Hide notification after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Show question modal
        function showQuestion(onCorrect, onWrong) {
            const modal = document.getElementById('questionModal');
            const questionText = document.getElementById('questionText');
            const answerOptions = document.getElementById('answerOptions');
            const questionResult = document.getElementById('questionResult');
            const continueButton = document.getElementById('continueGame');
            
            const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
            
            questionText.textContent = randomQuestion.question;
            answerOptions.innerHTML = '';
            questionResult.textContent = '';
            continueButton.style.display = 'none';
            
            randomQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'mobile-btn w-full p-3 text-left bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-sm sm:text-base';
                button.textContent = option;
                button.onclick = () => {
                    // Disable all buttons
                    answerOptions.querySelectorAll('button').forEach(b => b.disabled = true);
                    
                    if (index === randomQuestion.correct) {
                        button.className = 'mobile-btn w-full p-3 text-left bg-green-200 rounded-lg text-sm sm:text-base';
                        questionResult.textContent = '✅ Benar! Naik tangga!';
                        questionResult.className = 'font-bold mb-2 text-green-600 text-sm sm:text-base';
                        
                        // Show success notification
                        showNotification('🎉 Jawaban Benar! +10 Poin', true);
                        
                        continueButton.onclick = () => {
                            modal.classList.add('hidden');
                            onCorrect();
                        };
                    } else {
                        button.className = 'mobile-btn w-full p-3 text-left bg-red-200 rounded-lg text-sm sm:text-base';
                        questionResult.textContent = '❌ Salah! Tetap di tempat.';
                        questionResult.className = 'font-bold mb-2 text-red-600 text-sm sm:text-base';
                        
                        // Show error notification with encouraging message
                        showNotification('❌ Jawaban kurang tepat silahkan belajar kembali', false);
                        
                        continueButton.onclick = () => {
                            modal.classList.add('hidden');
                            onWrong();
                        };
                    }
                    
                    continueButton.style.display = 'block';
                };
                answerOptions.appendChild(button);
            });
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Switch player
        function switchPlayer() {
            currentPlayer = currentPlayer === 1 ? 2 : 1;
            const playerName = currentPlayer === 1 ? player1Name : player2Name;
            const playerClass = currentPlayer === 1 ? 'font-bold text-blue-600' : 'font-bold text-red-600';
            
            const currentPlayerElements = [document.getElementById('currentPlayer'), document.getElementById('currentPlayerDesktop')];
            currentPlayerElements.forEach(element => {
                if (element) {
                    element.textContent = playerName;
                    element.className = playerClass;
                }
            });
            
            const rollButtons = [document.getElementById('rollDice'), document.getElementById('rollDiceDesktop')];
            rollButtons.forEach(button => {
                if (button) button.disabled = false;
            });
        }

        // Update scores
        function updateScores() {
            const score1Elements = [document.getElementById('score1'), document.getElementById('score1Desktop')];
            const score2Elements = [document.getElementById('score2'), document.getElementById('score2Desktop')];
            
            score1Elements.forEach(element => {
                if (element) element.textContent = player1Score;
            });
            
            score2Elements.forEach(element => {
                if (element) element.textContent = player2Score;
            });
        }

        // Show win modal
        function showWinModal() {
            gameEnded = true;
            stopTimer();
            const modal = document.getElementById('winModal');
            const winnerText = document.getElementById('winnerText');
            
            const winner = player1Position === 100 ? 1 : 2;
            const winnerName = winner === 1 ? player1Name : player2Name;
            let finalScore = winner === 1 ? player1Score : player2Score;
            
            // Poin untuk sampai finish
            if (winner === 1) {
                player1Score += 50;
                finalScore = player1Score;
            } else {
                player2Score += 50;
                finalScore = player2Score;
            }
            
            updateScores();
            
            winnerText.textContent = `${winnerName} menang dengan skor ${finalScore}! (+50 poin finish)`;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Reset game
        function resetGame() {
            currentPlayer = 1;
            player1Position = 1;
            player2Position = 1;
            player1Score = 0;
            player2Score = 0;
            gameEnded = false;
            timeLeft = 900;
            
            stopTimer();
            
            const playerName = player1Name || 'Pemain 1';
            const currentPlayerElements = [document.getElementById('currentPlayer'), document.getElementById('currentPlayerDesktop')];
            currentPlayerElements.forEach(element => {
                if (element) {
                    element.textContent = playerName;
                    element.className = 'font-bold text-blue-600';
                }
            });
            
            const diceElements = [document.getElementById('dice'), document.getElementById('diceDesktop')];
            diceElements.forEach(dice => {
                if (dice) dice.textContent = '?';
            });
            
            const rollButtons = [document.getElementById('rollDice'), document.getElementById('rollDiceDesktop')];
            rollButtons.forEach(button => {
                if (button) button.disabled = false;
            });
            
            // Reset timer display
            const timerElements = [document.getElementById('timer'), document.getElementById('timerDesktop')];
            const timerBars = [document.getElementById('timerBar'), document.getElementById('timerBarDesktop')];
            
            timerElements.forEach(element => {
                if (element) {
                    element.textContent = '15:00';
                    element.className = 'text-2xl sm:text-3xl font-bold text-green-600 mb-2';
                }
            });
            
            timerBars.forEach(bar => {
                if (bar) {
                    bar.style.width = '100%';
                    bar.className = 'bg-green-500 h-2 rounded-full transition-all duration-1000';
                }
            });
            
            updatePlayerPositions();
            updateScores();
            
            // Hide modals
            document.getElementById('questionModal').classList.add('hidden');
            document.getElementById('winModal').classList.add('hidden');
            document.getElementById('timeUpModal').classList.add('hidden');
        }

        // Event listeners
        document.getElementById('rollDice').addEventListener('click', rollDice);
        document.getElementById('rollDiceDesktop')?.addEventListener('click', rollDice);
        document.getElementById('resetGame').addEventListener('click', resetGame);
        document.getElementById('resetGameDesktop')?.addEventListener('click', resetGame);
        document.getElementById('playAgain').addEventListener('click', resetGame);
        document.getElementById('playAgainTimeUp').addEventListener('click', resetGame);
        
        // Auto start game when page loads
        window.addEventListener('load', startGame);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'982f1f4e306a9e22',t:'MTc1ODUxNjAwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
